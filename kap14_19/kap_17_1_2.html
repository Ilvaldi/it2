<!DOCTYPE html>
<html>
  <head>
    <title>Animasjoner med css</title>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="../grid.css">
    <link rel="stylesheet" type="text/css" href="../stil.css">
    <link rel="stylesheet" type="text/css" href="kap_17_2.css">
    </head>
    <body>
    <div class="col-12 row header">
    Kapittel 17
    </div>
    <script type="text/javascript" src="meny14.js"></script>
    <div class="innhold">
    	<h1> Overganger og animasjoner med CSS </h1>
    	<p> Hvor mye kan vi få til med css? Transition-egenskapen gir overganger mellom ulike css-settinger. <br>
    	Kombinasjon av transitions og script. <br>
      Animation-egenskapen. Kombinasjoner av animation og script. <br>
      <b>Må</b> jobbe med oppgaver </p>

    	<h2> Hvilke muligheter gir CSS oss? </h2>
    	<p>Egenskapene knyttet til transitions og animations gir oss mulighet til å bytte gradvis fra én CSS-verdi til en annen <br>
    	Transitions: ingen repetisjoner av det som skjer, enkle overganger <br>
    	Animations: brukes når vi vil repetere endringene eller når overgangene er stegvise <br>
    	Vi må i all hovesak bruke JavaScript til å hendelsesstyre når dette skal skje (unntak av hover) </p>

    	<h2> Transitions </h2>
    	<p> Vi skal endre egenskapene til et element etter en gitt tid <br>
    	Lag en html-kode med 2 div-elementer: <br>
    	&nbsp;&nbsp; < div id="byttForm" > < /div > <br>
    	&nbsp;&nbsp; < div id="byttFarge" > < /div > <br>
    	I en css-fil bestemmer vi først det orginale utseendet for de to: <br>
    	&nbsp;&nbsp; #byttForm{<br>
    	&nbsp;&nbsp;&nbsp;&nbsp; width: 200px; <br>
    	&nbsp;&nbsp;&nbsp;&nbsp; height: 200px; <br>
    	&nbsp;&nbsp;&nbsp;&nbsp; background-color: darkgreen; <br>
    	&nbsp;&nbsp; }<br><br>
    	&nbsp;&nbsp; #byttFarge{<br>
    	&nbsp;&nbsp;&nbsp;&nbsp; width: 200px; <br>
    	&nbsp;&nbsp;&nbsp;&nbsp; height: 200px; <br>
    	&nbsp;&nbsp;&nbsp;&nbsp; background-color: darkblue; <br>
    	&nbsp;&nbsp; }</p>

    	<div id="byttForm"></div>
    	<br>
    	<div id="byttFarge"></div>
    	<br>

    	<p> For det første elementet skal vi endre kantlinje, for det andre skal vi endre farge: <br>
    	Vi legger inn følgende i css-koden: <br>
    	&nbsp;&nbsp; #byttForm{<br>
    	&nbsp;&nbsp;&nbsp;&nbsp; transition-property: border-radius; // bestemmer hvilken egenskap som skal endres <br>
    	&nbsp;&nbsp;&nbsp;&nbsp; transition-delay: 2s; // bestemmer hvor lang tid det skal ta før animasjonen starter <br>
    	&nbsp;&nbsp;&nbsp;&nbsp; transition-duration: 5s; // bestemmer hvor lang tid animasjonen skal ta <br>
    	&nbsp;&nbsp;} <br><br>
    	I tillegg må vi bestemme når animasjonen skal skje: for å holde oss til css i dag velger vi at det skjer når vi hovrer over div-elementet: <br>
    	&nbsp;&nbsp; #byttForm:hover{<br>
    	&nbsp;&nbsp;&nbsp;&nbsp; border-radius: 70%;<br>
    	&nbsp;&nbsp;} <br><br>
    	Resultatet ser vi her:</p>
    	<div id="byttForm"></div>

    	<p>På samme måte endrer vi farge på den andre boksen: <br>
  		&nbsp;&nbsp;#byttFarge{<br>
    	&nbsp;&nbsp;&nbsp;&nbsp; transition-property: background-color; <br>
    	&nbsp;&nbsp;&nbsp;&nbsp; transition-delay: 5s; <br>
    	&nbsp;&nbsp;&nbsp;&nbsp; transition-duration: 10s; <br>
    	&nbsp;&nbsp;} <br><br>
    	&nbsp;&nbsp; #byttFarge:hover{<br>
    	&nbsp;&nbsp;&nbsp;&nbsp; background-color: yellow;<br>
    	&nbsp;&nbsp;} <br><br>
    	Resultatet ser vi her:</p>
    	<div id="byttFarge"></div>

    	<h2> Flere muligheter: timing </h2>
    	<p> Ved å bruke egenskapen timing, kan vi velge om hele overgangen skal skje i samme tempo eller om noen deler skal gå raskere eller saktere. Ulike timinger finnes på siden <a href="http://easings.net" target="_blank"> easings</a>: viser animasjon sfa tid som har gått. <p>
    	For figuren som skifter form kan vi for eksempel bestemme at overgangen skal starte langsomt, gå litt tilbake og ende raskt ved å legge inn <br>
    	&nbsp;&nbsp;#byttForm2{<br>
    	&nbsp;&nbsp;&nbsp;&nbsp; /*samme som for #byttForm*/ <br>
    	&nbsp;&nbsp;&nbsp;&nbsp; -webkit-transition: all 5s cubic-bezier(.03,.45,1,0)); <br>
    	&nbsp;&nbsp;&nbsp;&nbsp; transition: all 5s cubic-bezier(.03,.45,1,0)); 	<br>
    	&nbsp;&nbsp;} <br><br>

      <p>Forskjellen ser vi her: </p>
    	<div id="byttForm"></div> <br> <div id="byttForm2"></div>

      <h1> Oppgaver </h1>
      <p> s. 272: Oppgave 17.1 - 17.4 <br>
      s. 273: Oppgave 17.5 - 17.6 </p>

      <h1> Endre flere egenskaper samtidig </h1>
      <p> Så langt har vi endret enten størrelse, form eller farge på elementer i overgangene. Vi kan endre flere egenskaper på en gang, men endringene vil da skje samtidig. Dersom vi ønsker å endre egenskaper til ulik tid, må vi bruke animations.<br><br>

      Eksempel: Lag et div-element som skifter både farge og størrelse når vi hovrer over. </p>
      <div id="byttMye"></div> <br>
      <p> I html:<br>
      &nbsp;&nbsp; < div id="byttMye" >< /div > < br ><br><br>
      I css: <br>
      &nbsp;&nbsp; #byttMye{<br>
      &nbsp;&nbsp;&nbsp;&nbsp; width: 200px; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; height: 200px; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; background-color: darkgreen; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; transition-property: background-color, width, height; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; transition-delay: 2s; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; transition-duration: 4s;<br>
      &nbsp;&nbsp; }<br>
      &nbsp;&nbsp; #byttMye:hover{<br>
      &nbsp;&nbsp;&nbsp;&nbsp; background-color: yellow;<br>
      &nbsp;&nbsp;&nbsp;&nbsp; width: 400px;<br>
      &nbsp;&nbsp;&nbsp;&nbsp; height: 400px;<br>
      &nbsp;&nbsp; }<br><br>

      Overgangsstilsettingen kan også settes sammen: <br>
      &nbsp;&nbsp; transition: property duration timing-function delay; <br>
      I eksempelet over vil dette si <br>
      &nbsp;&nbsp; transition: all 4s 2s;</p>

      <h1> Oppgaver </h1>
      <p> S. 276: Oppgave 17.7 - 17.10 </p>

      <h1>Styre transitions med JavaScript </h1>
      <p> I forrige time brukte vi #byttForm:hover{} til å styre når en overgang skulle skje. For å la det skje kan vi også bruke hendelser i JavaScript som vi kjenner til: f.eks. med click. Jeg viser to metoder: Knappen legger til style-egenskaper til elementet og knappen legger til en klasse til elementet. </p>

      <p> Legger i funksjonen hvordan style skal endres: <br>
      &nbsp;&nbsp; < div id="byttForm3" > < /div > <br>
      &nbsp;&nbsp; < button id="bytteKnapp" > Bytt < /button > <br><br>
      I css: <br>
      &nbsp;&nbsp; #byttForm3{<br>
      &nbsp;&nbsp;&nbsp;&nbsp; width: 200px; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; height: 200px; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; background-color: darkgreen; <br>
      &nbsp;&nbsp;}<br><br>

      I script: <br>
      &nbsp;&nbsp; var knappEl = document.querySelector("#bytteKnapp"); <br>
      &nbsp;&nbsp; var byttForm3El = document.querySelector("#byttForm"); <br>
      <!--&nbsp;&nbsp; var byttFargeEl = document.querySelector("#byttFarge"); <br>-->
      &nbsp;&nbsp; knappEl.addEventListener("click", byttFunksjon) <br>
      &nbsp;&nbsp; function byttFunksjon(){<br>
      &nbsp;&nbsp;&nbsp;&nbsp; byttForm3El.style.transitionDelay="2s"; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; byttForm3El.style.transitionDuration="5s"; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; byttForm3El.style.borderRadius="70%"; <br>
      &nbsp;&nbsp;} </p>

      <div id="byttForm3"> </div>
      <button id="bytteKnapp"> Bytt </button>

      <script>
        var knappEl = document.querySelector("#bytteKnapp");
        var byttForm3El = document.querySelector("#byttForm3");
        knappEl.addEventListener("click", byttFunksjon)
        function byttFunksjon(){
          byttForm3El.style.transitionDelay="2s";
          byttForm3El.style.transitionDuration="5s";
          byttForm3El.style.borderRadius="70%";
        }
      </script>

      <p> Den andre metoden er å legge inn en klasse i css med overgangsegenskapene og legge til denne klassen når knappen trykkes: <br>
      &nbsp;&nbsp; < div id="bytteForm4" > < /div > <br>
      &nbsp;&nbsp; < button id="bytteKnapp2" > Bytt < /button > <br><br>
      I css-fila: <br>
      &nbsp;&nbsp; #byttForm4{<br>
      &nbsp;&nbsp;&nbsp;&nbsp; width: 200px; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; height: 200px; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; background-color: darkgreen; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; transition-property: border-radius; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; transition-delay: 2s; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; transition-duration: 10s;<br>
      &nbsp;&nbsp;}<br>
      &nbsp;&nbsp; .byttForm4{<br>
      &nbsp;&nbsp;&nbsp;&nbsp; border-radius: 70%; <br>
      &nbsp;&nbsp;} <br>
      I script: <br>
      &nbsp;&nbsp; var knapp2El = document.querySelector("#byttKnapp2"); <br>
      &nbsp;&nbsp; var byttForm4El = document.querySelector("#byttForm4"); <br>
      &nbsp;&nbsp; knapp4El.addEventListener("click", byttFunksjon2); <br>
      &nbsp;&nbsp; function byttFunksjon2(){<br>
      &nbsp;&nbsp;&nbsp;&nbsp; byttForm4El.classList.add("byttForm2") <br>
      &nbsp;&nbsp;} </p>

      <div id="byttForm4"> </div>
      <button id="bytteKnapp2"> Bytt </button>
      <script>
        var knapp2El = document.querySelector("#bytteKnapp2");
        var byttForm4El = document.querySelector("#byttForm4");
        knapp2El.addEventListener("click", byttFunksjon2)
        function byttFunksjon2(){
          byttForm4El.classList.add("byttForm4")
        }
      </script>

      <h1> Sjekke når en overgang er ferdig </h1>
      <p> Vi kan undersøke når en overgang er ferdig ved å legge til en lytter som sjekker om overgangselementet (elementet som har gjennomgått en overgang) har egenskapen "transitionend". Dermed har vi muligheten til å kjøre en funksjon når elementet har gjennomgått en overgang, der funksjonen endrer en annen egenskap. <br><br>
      Eksempel: La et div-element først endre farge og deretter border-radius: </p>

      <div id="byttToGanger"></div> <br>

      <script>
        var byttToGangerEl = document.querySelector("#byttToGanger");
        byttToGangerEl.addEventListener("transitionend", byttMer)
        function byttMer(){
          byttToGangerEl.style.borderRadius="70%";
        }
      </script>

      <p> I html:<br>
      &nbsp;&nbsp; < div id="byttToGanger" >< /div > < br > <br><br>
      I css:<br>
      &nbsp;&nbsp; #byttToGanger{<br>
      &nbsp;&nbsp;&nbsp;&nbsp; width: 200px; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; height: 200px; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; background-color: darkgreen; <br>
      &nbsp;&nbsp;&nbsp;&nbsp; transition: background-color 2s 0.5s;<br>
      &nbsp;&nbsp; }<br>
      &nbsp;&nbsp; #byttToGanger:hover{<br>
      &nbsp;&nbsp;&nbsp;&nbsp; background-color: yellow;<br>
      &nbsp;&nbsp; }<br><br>
      I script:<br>
      &nbsp;&nbsp; var byttToGangerEl = document.querySelector("#byttToGanger"); <br>
      &nbsp;&nbsp; byttToGangerEl.addEventListener("transitionend", byttMer);<br>
      &nbsp;&nbsp; function byttMer(){<br>
      &nbsp;&nbsp;&nbsp;&nbsp; byttToGangerEl.style.borderRadius="70%"; <br>
      &nbsp;&nbsp; }</p>

      <h1> Oppgaver </h1>
      <p> Side 277: Oppgave 17.11 - 17.12 </p>

    </div>
    <a href="../index.html"><img class="hjem" src="../hjem.png"></a>
  </body>
</html>
